var PhotoViewer={show:function(C,E){if(DialogBoxes.IsDialogOpen){DialogBoxes.hide()}var A=document.getElementById("PV_imageContainer");if(!A){A=document.createElement("div");A.setAttribute("id","PV_imageContainer");A.setAttribute("style","display: none;");document.body.appendChild(A)}var D=document.getElementById("PV_imageDiv");if(!D){D=document.createElement("div");D.setAttribute("id","PV_imageDiv");A.appendChild(D)}var B=document.createElement("img");B.onload=function(J){var G=B.naturalWidth||B.offsetWidth||B.width;var I=B.naturalHeight||B.offsetHeight||B.height;var H=parseInt(E||G);var F=Math.ceil(I/G*H);B.setAttribute("style","width: "+H+"px; padding: 5px; background: white; border: 1px solid black;");var K=document.createElement("img");K.setAttribute("style","padding: 0 3px 5px 0; float: right; cursor: pointer;");K.setAttribute("alt","Close");K.setAttribute("title","Close");K.src="/apps/pics/close.gif";K.onclick=DialogBoxes.hide;while(D.hasChildNodes()){D.removeChild(D.lastChild)}D.appendChild(K);D.appendChild(B);DialogBoxes.show({srcDiv:"PV_imageDiv",w:H+12,h:F+30,onClick:DialogBoxes.hide})};B.onerror=function(F){alert("Sorry, the image could not be loaded.");if(DialogBoxes.IsDialogOpen){DialogBoxes.hide()}};B.src=C}}