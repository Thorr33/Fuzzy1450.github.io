var DialogBoxes={show:function(E){if(!E){E={}}if(!document.getElementById("DB_mask")&&!document.getElementById("DB_dialog")){DialogBoxes.IsDialogOpen=false;DialogBoxes._onOpen=E.onOpen;DialogBoxes._onClose=E.onClose;DialogBoxes._onBeforeClose=E.onBeforeClose;DialogBoxes._fadeSpeed=E.fadeSpeed?parseInt(E.fadeSpeed,10):15;DialogBoxes._w=E.w?parseInt(E.w,10):320;DialogBoxes._h=E.h?parseInt(E.h,10):240;if(E.timeout){DialogBoxes._timeout=parseInt(E.timeout,10)}var C=document.createElement("div");C.id="DB_mask";C.className+=" DB_mask";var A=document.createElement("div");A.id="DB_dialog";A.className+=" DB_dialog";C.onclick=DialogBoxes.hide;var B=function(G){var F=null;if(G){F=G.keyCode?G.keyCode:G.which}else{if(window.event){F=window.event.keyCode}}if(F==27&&document.getElementById("DB_dialog")){if(document.removeEventListener){document.removeEventListener("keyup",B,false)}else{if(document.detachEvent){document.detachEvent("onkeyup",B)}}if(!DialogBoxes.hide()){if(document.addEventListener){document.addEventListener("keyup",B,false)}else{if(document.attachEvent){document.attachEvent("onkeyup",B)}}}}return true};if(document.addEventListener){document.addEventListener("keyup",B,false)}else{if(document.attachEvent){document.attachEvent("onkeyup",B)}}if(E.mode!="fullscreen"){A.style.cssText+="; height: "+DialogBoxes._h+"px; width: "+DialogBoxes._w+"px;";var D=function(){A.style.cssText+="; top: "+parseInt((window.pageYOffset?window.pageYOffset:(document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:(document.body.scrollTop?document.body.scrollTop:0)))+(((window.innerHeight?window.innerHeight:(document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:(document.body?document.body.clientHeight:0)))-DialogBoxes._h)/2),10)+"px;";A.style.cssText+="; left: "+parseInt((window.pageXOffset?window.pageXOffset:(document.documentElement&&document.documentElement.scrollLeft?document.documentElement.scrollLeft:(document.body.scrollLeft?document.body.scrollLeft:0)))+(((window.innerWidth?window.innerWidth:(document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:(document.body?document.body.clientWidth:0)))-DialogBoxes._w)/2),10)+"px;"};if(window.addEventListener){window.addEventListener("resize",D,false)}else{if(window.attachEvent){window.attachEvent("onresize",D)}}D()}A.alpha=0;if(E.srcDiv){DialogBoxes._srcDiv=document.getElementById(E.srcDiv)?document.getElementById(E.srcDiv).cloneNode(true):null;DialogBoxes._srcContainer=document.getElementById(E.srcDiv).parentNode;A.appendChild(document.getElementById(E.srcDiv))}document.body.appendChild(C);document.body.appendChild(A);DialogBoxes._dialogTimer=setInterval(function(){DialogBoxes.fade(true)},DialogBoxes._fadeSpeed);if(DialogBoxes._timeout){window.setTimeout(function(){DialogBoxes.hide()},DialogBoxes._timeout)}}},hide:function(){if(DialogBoxes.IsDialogOpen){if(DialogBoxes._onBeforeClose){if(!DialogBoxes._onBeforeClose()){return false}}clearInterval(DialogBoxes._dialogTimer);var A=document.getElementById("DB_dialog");while(A.hasChildNodes()){A.removeChild(A.lastChild)}DialogBoxes._dialogTimer=setInterval(function(){DialogBoxes.fade(false)},DialogBoxes._fadeSpeed)}return true},fade:function(B){var C=document.getElementById("DB_dialog");var A=C.alpha+((B?1:-1)*DialogBoxes._fadeSpeed);C.alpha=A;C.style.opacity=(A/100);C.style.filter="alpha(opacity="+A+")";if(A>=99){clearInterval(DialogBoxes._dialogTimer);DialogBoxes._dialogTimer=null;DialogBoxes.IsDialogOpen=true;if(DialogBoxes._onOpen){DialogBoxes._onOpen()}}else{if(A<=1){if(DialogBoxes._srcDiv&&DialogBoxes._srcContainer){DialogBoxes._srcContainer.appendChild(DialogBoxes._srcDiv);DialogBoxes._srcContainer=null;DialogBoxes._srcDiv=null}document.body.removeChild(document.getElementById("DB_mask"));document.body.removeChild(document.getElementById("DB_dialog"));clearInterval(DialogBoxes._dialogTimer);DialogBoxes.IsDialogOpen=false;if(DialogBoxes._onClose){DialogBoxes._onClose()}}}},isLoaded:function(){return true}}